<?xml version="1.0"?>
<launch>
    <!--  config file path  -->
    <arg name="local_map_creator_settings" default="$(find local_map_creator)/config/param/local_map_creator.yaml"/>
    <arg name="obstacle_detector_settings" default="$(find obstacle_detector)/config/param/obstacle_detector.yaml"/>
    <arg name="rviz_settings" default="$(find local_map_creator)/config/rviz/local_map_creator.rviz"/>

    <!--  node launch  -->
    <node name="rviz" pkg="rviz" type="rviz" args="-d $(arg rviz_settings)" output="screen"/>
    <node name="local_map_creator" pkg="local_map_creator" type="local_map_creator_node" output="screen">
        <rosparam command="load" file="$(arg local_map_creator_settings)"/>
    </node>
    <node name="obstacle_detector" pkg="obstacle_detector" type="obstacle_detector_node" output="screen">
        <rosparam command="load" file="$(arg obstacle_detector_settings)"/>
    </node>

    <node pkg="rosbag" type="play" name="rosbag" args="$(env HOME)/bagfiles/darker_darkness.bag"/>
    <node pkg="tf2_ros" type="static_transform_publisher" name="static_transform_publisher" args="0 0 0 0 0 0 1 /base_link /laser"/>
</launch>